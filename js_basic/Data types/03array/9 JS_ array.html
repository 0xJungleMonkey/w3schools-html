<!DOCTYPE html>
<html>
    <body>
        <h1> JS Array</h1>
        <h3>1. 创建数组</h3>
        <p>var array-name = [item1,item2,item3......]</p>
        <p id = "demo"></p>
        <p> Keyword new  (not necessary to use)</p>
        <p id = "demo1"></p>
        <script>
            var car = new Array("Audi","BMW","porsche");
            document.getElementById("demo1").innerHTML = car + "<br>" + 
            car[0]+ car[2];
        </script>
        <h3>2. 获取数组element /Access array elements</h3>
        <p id = "demo2"></p>
        <h3>3. 更改数组中某一项的值</h3>
        
        <h3>4. 获取数组的长度</h3>
        <p> length property</p>
        <p id = "demo3"></p>
        <h3>5. 更改数组的长度</h3>
        <h1> The type of JS Array is Object. </h1>
        
        <h1> Traverse array elements</h1>
        <p>1. for cycle</p>
        <p id = "demo4"></p>
        <script>
            var fruits, text, flen, i;
            fruits = ["Banana","Orange","Apple","Mango"];
            fruits[6] = "Lemonnn";
            flen = fruits.length;
            text = "<ul>";
                for (i = 0; i < flen; i++){
                    text += "<li>" + fruits[i] + "</li>";
                }
                text +="</ul>";
                document.getElementById("demo4").innerHTML = text;
        </script>
        <p>2. Array.foreach() </p>
        <p id = "demo5"></p>
        <script>
            var fruits, text;
            fruits = ["Banana","Orange","Apple","Mango"];
            text = "<ul>";
                fruits.foreach(myFunction);
                text +="</ul>";
                document.getElementById("demo5").innerHTML = text;

                function myFunction(value){
                    text += "<li>" + value +"</li>";
                }
        </script>
        <p>Add array elements push()</p>
        <button onclick="myFunction()">Click here </button>
        <button onclick="lengthfun()">Click here to add "lemonn"</button>
        <p id = "demo6"></p>
        <p id = "demo7"></p>
        <script>
            var fruits = ["Banana","Orange","Apple","Mango"];
            document.getElementById("demo6").innerHTML = fruits;
            document.getElementById("demo7").innerHTML = fruits;
            function myFunction(){
                fruits.push("Lemon");
                document.getElementById("demo6").innerHTML = fruits;
            }
            function lengthfun(){
                fruits[fruits.length] = "Lemonn";
                document.getElementById("demo7").innerHTML = fruits;
            }
        </script>
        <h1>associative arrays</h1>
        <p id = "demo8"></p>
        <script>
            var person = [];
            person[0]= "John";
            person[1]= "Doe";
            person[2]= 46;
            document.getElementById("demo8").innerHTML = 
            person[0] + " "+ person.length;
        </script>
        
        <p id="demo9"></p>
        <script>
        var person = {};
        person["firstName"] = "John";
        person["lastName"] = "Doe";
        person["age"] = 46; 
        document.getElementById("demo9").innerHTML =
        person.firstName + " " + person.length;
        </script>
        
        <h2>JS Array Method</h2>
        <h4>1. Array to String toString() or join()</h4>
        <p id = "demo10"></p>
        <script>
            var fruits = ["Banana","Orange","Apple","Mango"];
            document.getElementById("demo10").innerHTML = 
            fruits.toString() +"<br>"+ fruits.join(" * ");
        </script>
        <h4>2. Add new element or delete element</h4>
        <p>popping and pushing</p>
        <p id= "demo11"></p>
        <p id= "demo12"></p>
        <p id= "demo13"></p>
        <p id= "demo14"></p>
        <script>
            var fruits = ["Banana","Orange","Apple","Mango"];
            document.getElementById("demo11").innerHTML = fruits;
            var x = fruits.pop();
            //fruits.pop() delete the last one element in the array
            var y = fruits.push("Kiwi");
            document.getElementById("demo12").innerHTML = fruits;
            document.getElementById("demo13").innerHTML = x;
            //fruits.pop() return the one which is popped from the array
            document.getElementById("demo14").innerHTML = 
            fruits.push("Lemon") + "<br>" + fruits;
            //fruits.push() return the length of array
       </script>
       <h4>3. Shifting element </h4>
       <p>shift() delete the 1st element in the array </p>
       <p>unshift() add new element as the array[0]</p>
       <p>shift() return the element that is deleted. <br>
        unshift() return the length of array.
       </p>
       <h4>4. Change the element</h4>
       <p> arrayName[indexNumber] = string or object or numbers <br>
       arrayName[arrayName.length] = string or object or numbers</p>
       <p id = "demo15"></p>
       <p id = "demo16"></p>
       <p id = "demo17"></p>
       <script>
           var fruits = ["Banana","Orange","Apple","Mango"];
           document.getElementById("demo15").innerHTML = fruits;
           p = fruits.shift();
           q = fruits.unshift("Lemon");
           fruits[fruits.length] = "Kiwi";
           fruits[6] = "Litchi";
           document.getElementById("demo16").innerHTML = fruits;
           document.getElementById("demo17").innerHTML = 
           p + " <br>" + q + "<br>" + fruits[0];
       </script>
       <h4>5. Splice array</h4>
       <p> 5.1 Use splice() to add new elements <br>
        ArrayName.splice(where to splice, how many elements 
        to delete, other new elements) <br>
        splice() return array which includes the deleted elements </p>
        <p>5.2 Use splice() to delete elements <br>
        </p>
        <p id = "demo18"></p>
        <p id = "demo19"></p>
        <script>
            var fruits = ["Banana","Orange","Apple","Mango"];
            document.getElementById("demo18").innerHTML = 
            "The original array:<br>" + fruits;
            var xx = fruits.splice(2, 1, "Lemon","Watermelon");
            document.getElementById("demo19").innerHTML = 
            "The new array:" + fruits +"<br>" + 
            "The deleted elements:" + xx;
            var yy = fruits.splice(1,1);
            document.getElementById("demo20").innerHTML =
             "The new array: " +fruits + "<br>" + 
             "The deleted elements:" + yy;
        </script>
        <h4>6.concat() </h4>
        <p id = "demo20"></p>
        <script>
            var myGirls = ["Emma","Isabella"];
            var myBoys = ["Jacob","Michael","Ethan"];
            var myPets = ["Puppies","Cats"];
            var myGirlss = myGirls.concat(["Cecilie","Lone"]);
            var myChildren = myGirls.concat(myBoys,myPets);
            document.getElementById("demo20").
            innerHTML = myChildren + "<br>" + myGirlss;
        </script>
        <h4>7.slice() </h4>
        <p id = "demo21"></p>
        <script>
            var fruits = ["Banana","Orange","Lemon","Apple","Mango"];
            var citrus = fruits.slice(2);
            var cit = fruits.slice(1,3);
            //arrayName.slice(start index number,finishIndexNumber)
            //It is acceptable if there is no finish Index Number.
            document.getElementById("demo21").
            innerHTML = fruits + "<br>" + citrus + "<br>" + cit;
        </script>
        <h4>8. automatically toString()</h4>
        <!--innerHTML = arrayName; return is same
         as innerHTML = arrayName.toString()--> 
        <h4>9. Array sorting</h4>
        <h4>10. Array reverse</h4>
        <p id = "demo22"></p>
        <script>
            var fruits = ["Banana","Orange","Apple","Mango"];
            //First sort the array
            var x = fruits.sort();
            //Then reverse it 
            var y = fruits.reverse();
            document.getElementById("demo22").innerHTML = fruits;
        </script>
        <h4>Array numbers sorting need use functions </h4>
        <p id = "demo23"></p>
        <button onclick="comparePoints()">Click here to sort array</button>
        <script>
            var numbers = [100,25,39,19,9];
            document.getElementById("demo23").
            innerHTML = numbers;

            function comparePoints(){
                numbers.sort(function(a,b){return a - b});
            
                //ascending: function(a,b){return a - b}
                //descending: function(a,b){return a - b}
                //random: function(a,b){return 0.5 - Math.random()}
                document.getElementById("demo23").
                innerHTML = numbers + "<br>" + numbers[0] +
                 "<br>" + numbers[numbers.length-1];
                //numbers: return the array;
                //numbers[numbers.length-1]: return the Maximum
                //numbers[0]: return the Minimum.

                //Maximum: function comparePoints(arr){
                //           return Math.max.apply(null,arr);
                //         }
                //Minimum: function comparePoints(arr){
                //           return Math.min.apply(null,arr);
                //         }
                //Math.min.apply([1,2,3]) = Math.min(1,2,3)
                //Math.max.apply([1,2,3]) = Math.max(1,2,3)
            }
        </script>
        <h4>Sort object array</h4>
        <p id="demo24"></p>
<button onclick="myFunction()">Sorting</button>
<script>
var cars = [
  {type:"BMW", year:2017},
  {type:"Audi", year:2019},
  {type:"porsche", year:2018}
];

displayCars();

function myFunction() {
  cars.sort(function(a, b){return a.year - b.year});
  displayCars();
}
// if compare string:
//function myFunction() {
//   cars.sort(function(a, b){
//   var x = a.type.toLowerCase();
//    var y = b.type.toLowerCase();
//    if (x < y) {return -1;}
//    if (x > y) {return 1;}
//    return 0;
//  });
//  displayCars();
//}


function displayCars() {
  document.getElementById("demo24").innerHTML =
  cars[0].type + " " + cars[0].year + "<br>" +
  cars[1].type + " " + cars[1].year + "<br>" +
  cars[2].type + " " + cars[2].year;
}
</script>
<h2> Array iteration method</h2>
<h4> Array.foreach()</h4>
<p id = "demo25"> </p>
<script>
    var txt = "" ;
    var numbers = [45,4,9,16,25];
    number.foreach(myFunction);
    document.getElementById("demo25").innerHTML = txt;

    function myFunction(value,index,array){
        txt = txt +value +"<br>";
    }
</script>
<h4> Array.map()</h4>
<p id = "demo26"></p>
<script>
    var numbers1, numbers2;
    numbers1 = [45,9,3,14,35];
    numbers2 = numbers1.map(myFunction);

    document.getElementById("demo26").innerHTML = numbers2;
    
    function myFunction(value){
        return value*2;
    }
</script>
<h4>Array.filter()</h4>
<p id = "demo27"></p>
<script>
    var numbers = [45,9,3,14,25];
    var over18 = numbers.filter(myFunction);
    document.getElementById("demo27").innerHTML = over18;

    function myFunction(value,index,array){
        return value > 18;
    }
</script>
<h4>Array reduce()</h4>
<p> reduce(total,value,index,array) </p>
<p id = "demo28"></p>
<script>
    var numbers = [45,6,17,34,25];
    var sum = numbers.reduce(myFunction,100);
    // reduce(FunctionName,Initial value )
    document.getElementById("demo28").
    innerHTML = "The total is : " + sum;

    function myFunction(total,value,index,array){
        return total + value;
    }

</script>
<h4>Array reduceRight()</h4>
<p>reduceRight work from right to left</p>
<p id = "demo29"></p>
<script>
    var numbers = [45,6,17,34,25];
    var sum = numbers.reduceRight(myFunction,100);
    // reduceRight(FunctionName,Initial value )
    document.getElementById("demo29").
    innerHTML = "The total is : " + sum;

    function myFunction(total,value,index,array){
        return total + value;
    }
</script>
<h4>Array every()</h4>
<p id = "demo30"></p>
<script>
    var numbers = [45,6,17,34,25];
    var allOver18 = numbers.every(myFunction);
    document.getElementById("demo30").
    innerHTML = "If all the elements >18: "+ allOver18;
    function myFunction(value,index, array){
        return value > 18;
    }
    // check if all the value > 18
    
</script>
<h4>Array some()</h4>
<p> some() check if some elements pass the test</p>
<p id = "demo31"></p>
<script>
    var numbers = [45,6,17,34,25];
    var someOver18 = numbers.some(myFunction);
    document.getElementById("demo31").innerHTML
     = "Some elements >18: " + someOver18;
    function myFunction(value,index,array){
        return value > 18;
    }
</script>
<h4> Array indexOf()</h4>
<p> indexOf() search elements value and return the postion </p>
<p id = "demo32"></p>
<script>
    var fruits = ["Apple","Orange","Apple","Mango"];
    var a = fruits.indexOf("Apple",1);
    //array.indexOf(item,start)
    document.getElementById("demo32").
    innerHTML = "Apple postion: " + (a +1);
</script> 
<h4>Array.lastIndexOf()</h4>
<p> lastIndexOf() is similiar to indexof <br>
    search from last to start </p>
<p id = "demo33"></p>
<h4>Array.find()</h4>
<p>find() return the first element that pass the function test</p>
<script>
    var numbers = [45,6,17,34,25];
    var first = numbers.find(myFunction);
    document.getElementById("demo33").innerHTML =
     "The first element which is bigger than 18: " + first;
function myFunction(value,index,array){
    return value > 18;
}
</script>
<h4>Array.findIndex()</h4>
<p>findIndex() return the index of first element which pass the test</p>
<p id = "demo34"></p>
<script>
    var numbers = [45,6,17,34,25];
    var first = numbers.findIndex(myFunction);
    document.getElementById("demo34").innerHTML = "The first element which is bigger than 18: "+ first;
    function myFunction(value,index,array){
        return value > 18;
    }
</script>
    </body>
</html>